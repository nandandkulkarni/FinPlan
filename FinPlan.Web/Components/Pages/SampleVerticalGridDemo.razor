@page "/grid-column-options-demo"
@using System.Collections.Generic

<h2>Option 1: Horizontal Scrolling Table</h2>
<div style="overflow-x:auto; border:1px solid #e0e0e0; border-radius:8px;">
    <table style="min-width:1200px; width:100%;">
        <thead>
            <tr>
                <th>Year</th>
                <th>Age</th>
                <th>SS</th>
                <th>Reverse Mortgage</th>
                <th>Growth</th>
                <th>Taxable Withdrawal</th>
                <th>Traditional Withdrawal</th>
                <th>Roth Withdrawal</th>
                <th>Tax Paid</th>
                <th>Ending Taxable</th>
                <th>Ending Traditional</th>
                <th>Ending Roth</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var row in DemoRows)
            {
                <tr>
                    <td>@row.Year</td>
                    <td>@row.Age</td>
                    <td>@row.SS</td>
                    <td>@row.ReverseMortgage</td>
                    <td>@row.Growth</td>
                    <td>@row.TaxableWithdrawal</td>
                    <td>@row.TraditionalWithdrawal</td>
                    <td>@row.RothWithdrawal</td>
                    <td>@row.TaxPaid</td>
                    <td>@row.EndingTaxable</td>
                    <td>@row.EndingTraditional</td>
                    <td>@row.EndingRoth</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<hr />

<h2>Option 2: Tabs for Column Groups</h2>
<div>
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link @(activeTab == 0 ? "active" : "")" @onclick="() => activeTab = 0">General</a>
        </li>
        <li class="nav-item">
            <a class="nav-link @(activeTab == 1 ? "active" : "")" @onclick="() => activeTab = 1">Income & Growth</a>
        </li>
        <li class="nav-item">
            <a class="nav-link @(activeTab == 2 ? "active" : "")" @onclick="() => activeTab = 2">Withdrawals</a>
        </li>
        <li class="nav-item">
            <a class="nav-link @(activeTab == 3 ? "active" : "")" @onclick="() => activeTab = 3">Ending Balances</a>
        </li>
    </ul>
    <div class="tab-content" style="border:1px solid #e0e0e0; border-radius:8px; padding:12px;">
        @if (activeTab == 0)
        {
            <table>
                <thead><tr><th>Year</th><th>Age</th></tr></thead>
                <tbody>
                    @foreach (var row in DemoRows)
                    {
                        <tr><td>@row.Year</td><td>@row.Age</td></tr>
                    }
                </tbody>
            </table>
        }
        else if (activeTab == 1)
        {
            <table>
                <thead><tr><th>SS</th><th>Reverse Mortgage</th><th>Growth</th></tr></thead>
                <tbody>
                    @foreach (var row in DemoRows)
                    {
                        <tr><td>@row.SS</td><td>@row.ReverseMortgage</td><td>@row.Growth</td></tr>
                    }
                </tbody>
            </table>
        }
        else if (activeTab == 2)
        {
            <table>
                <thead><tr><th>Taxable Withdrawal</th><th>Traditional Withdrawal</th><th>Roth Withdrawal</th><th>Tax Paid</th></tr></thead>
                <tbody>
                    @foreach (var row in DemoRows)
                    {
                        <tr>
                            <td>@row.TaxableWithdrawal</td>
                            <td>@row.TraditionalWithdrawal</td>
                            <td>@row.RothWithdrawal</td>
                            <td>@row.TaxPaid</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else if (activeTab == 3)
        {
            <table>
                <thead><tr><th>Ending Taxable</th><th>Ending Traditional</th><th>Ending Roth</th></tr></thead>
                <tbody>
                    @foreach (var row in DemoRows)
                    {
                        <tr>
                            <td>@row.EndingTaxable</td>
                            <td>@row.EndingTraditional</td>
                            <td>@row.EndingRoth</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
</div>

<hr />

<h2>Option 3: Vertical Accordion for Column Groups</h2>
<div>
    <div>
        <button class="btn btn-outline-primary" @onclick="() => accordionOpen[0] = !accordionOpen[0]">General Info</button>
        @if (accordionOpen[0])
        {
            <table>
                <thead><tr><th>Year</th><th>Age</th></tr></thead>
                <tbody>
                    @foreach (var row in DemoRows)
                    {
                        <tr><td>@row.Year</td><td>@row.Age</td></tr>
                    }
                </tbody>
            </table>
        }
    </div>
    <div>
        <button class="btn btn-outline-success" @onclick="() => accordionOpen[1] = !accordionOpen[1]">Income & Growth</button>
        @if (accordionOpen[1])
        {
            <table>
                <thead><tr><th>SS</th><th>Reverse Mortgage</th><th>Growth</th></tr></thead>
                <tbody>
                    @foreach (var row in DemoRows)
                    {
                        <tr><td>@row.SS</td><td>@row.ReverseMortgage</td><td>@row.Growth</td></tr>
                    }
                </tbody>
            </table>
        }
    </div>
    <div>
        <button class="btn btn-outline-info" @onclick="() => accordionOpen[2] = !accordionOpen[2]">Withdrawals</button>
        @if (accordionOpen[2])
        {
            <table>
                <thead><tr><th>Taxable Withdrawal</th><th>Traditional Withdrawal</th><th>Roth Withdrawal</th><th>Tax Paid</th></tr></thead>
                <tbody>
                    @foreach (var row in DemoRows)
                    {
                        <tr>
                            <td>@row.TaxableWithdrawal</td>
                            <td>@row.TraditionalWithdrawal</td>
                            <td>@row.RothWithdrawal</td>
                            <td>@row.TaxPaid</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
    <div>
        <button class="btn btn-outline-secondary" @onclick="() => accordionOpen[3] = !accordionOpen[3]">Ending Balances</button>
        @if (accordionOpen[3])
        {
            <table>
                <thead><tr><th>Ending Taxable</th><th>Ending Traditional</th><th>Ending Roth</th></tr></thead>
                <tbody>
                    @foreach (var row in DemoRows)
                    {
                        <tr>
                            <td>@row.EndingTaxable</td>
                            <td>@row.EndingTraditional</td>
                            <td>@row.EndingRoth</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
</div>

<hr />

<h2>Option 4: Column Chooser (Show/Hide Columns)</h2>
<div>
    <div>
        <label><input type="checkbox" @bind="showColYear" /> Year</label>
        <label><input type="checkbox" @bind="showColAge" /> Age</label>
        <label><input type="checkbox" @bind="showColSS" /> SS</label>
        <label><input type="checkbox" @bind="showColGrowth" /> Growth</label>
        <label><input type="checkbox" @bind="showColTaxableWithdrawal" /> Taxable Withdrawal</label>
        <label><input type="checkbox" @bind="showColEndingTaxable" /> Ending Taxable</label>
        <!-- Add more as needed -->
    </div>
    <table style="border:1px solid #e0e0e0; border-radius:8px;">
        <thead>
            <tr>
                @if (showColYear) 
                {
                    <th>Year</th>
                }
                @if (showColAge) 
                {
                    <th>Age</th>
                }
                @if (showColSS)
                {
                    <th>SS</th>
                }
                @if (showColGrowth)
                {
                    <th>Growth</th>
                }
                @if (showColTaxableWithdrawal)
                {
                    <th>Taxable Withdrawal</th>
                }
                @if (showColEndingTaxable) 
                {
                    <th>Ending Taxable</th>
                }
            </tr>
        </thead>
        <tbody>
            @foreach (var row in DemoRows)
            {
                <tr>
                    @if (showColYear) 
                    {
                        <td>@row.Year</td>
                    }
                    @if (showColAge)
                    {
                    <td>@row.Age</td>
                    }
                    @if (showColSS)
                    {
                        <td>@row.SS</td>
                    }
                    @if (showColGrowth)
                    {
                        <td>@row.Growth</td>
                    }
                    @if (showColTaxableWithdrawal)
                    {
                        <td>@row.TaxableWithdrawal</td>
                    }
                    @if (showColEndingTaxable)
                    {
                        <td>@row.EndingTaxable</td>
                    }
                </tr>
            }
        </tbody>
    </table>
</div>

@code {
    private int activeTab = 0;
    private bool[] accordionOpen = new bool[4];

    private bool showColYear = true;
    private bool showColAge = true;
    private bool showColSS = true;
    private bool showColGrowth = true;
    private bool showColTaxableWithdrawal = true;
    private bool showColEndingTaxable = true;

    public class DemoRow
    {
        public int Year { get; set; }
        public int Age { get; set; }
        public decimal SS { get; set; }
        public decimal ReverseMortgage { get; set; }
        public decimal Growth { get; set; }
        public decimal TaxableWithdrawal { get; set; }
        public decimal TraditionalWithdrawal { get; set; }
        public decimal RothWithdrawal { get; set; }
        public decimal TaxPaid { get; set; }
        public decimal EndingTaxable { get; set; }
        public decimal EndingTraditional { get; set; }
        public decimal EndingRoth { get; set; }
    }

    public List<DemoRow> DemoRows = new()
    {
        new DemoRow { Year = 2025, Age = 65, SS = 18000, ReverseMortgage = 6000, Growth = 12000, TaxableWithdrawal = 20000, TraditionalWithdrawal = 15000, RothWithdrawal = 5000, TaxPaid = 7000, EndingTaxable = 100000, EndingTraditional = 200000, EndingRoth = 50000 },
        new DemoRow { Year = 2026, Age = 66, SS = 18500, ReverseMortgage = 6000, Growth = 12500, TaxableWithdrawal = 21000, TraditionalWithdrawal = 15500, RothWithdrawal = 5500, TaxPaid = 7200, EndingTaxable = 95000, EndingTraditional = 195000, EndingRoth = 48000 },
        new DemoRow { Year = 2027, Age = 67, SS = 19000, ReverseMortgage = 6000, Growth = 13000, TaxableWithdrawal = 22000, TraditionalWithdrawal = 16000, RothWithdrawal = 6000, TaxPaid = 7400, EndingTaxable = 90000, EndingTraditional = 190000, EndingRoth = 46000 }
    };
}